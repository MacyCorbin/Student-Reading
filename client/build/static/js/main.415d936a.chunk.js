(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,a){e.exports=a(60)},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},57:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(23),r=a.n(l),s=a(63),i=a(65),c=a(64),u=a(2),m=a(3),d=a(5),h=a(4),p=a(6);var g=function(e){var t=e.children;return o.a.createElement("div",{style:{height:300,clear:"both",paddingTop:120,textAlign:"center"},className:"jumbotron"},t)},b=a(12),v=a.n(b),k={getBooks:function(){return v.a.get("/api/assignments")},searchBooks:function(e){return v.a.post("/search",{title:e})},addBookToDB:function(e,t){return v.a.post("/api/assignments",e,t)},deleteBook:function(e){return v.a.delete("/api/assignments/".concat(e))}};function f(e){var t=e.fluid,a=e.children;return o.a.createElement("div",{className:"container".concat(t?"-fluid":"")},a)}function E(e){var t=e.fluid,a=e.children;return o.a.createElement("div",{className:"row".concat(t?"-fluid":"")},a)}function B(e){var t=e.size,a=e.children;return o.a.createElement("div",{className:t.split(" ").map(function(e){return"col-"+e}).join(" ")},a)}a(49);function S(e){return o.a.createElement("div",{className:"form-group"},o.a.createElement("input",Object.assign({className:"form-control"},e)))}function y(e){return o.a.createElement("button",Object.assign({},e,{style:{marginBottom:10},className:"btn btn-success"}),e.children)}a(50);var C=function(e){return o.a.createElement("nav",{className:"navbar navbar-dark bg"},o.a.createElement("span",null,o.a.createElement("a",{className:"navbar-brand",href:"#",onClick:function(){return e.navBarSelection(1)}},"What We Do")),o.a.createElement("span",{className:"navbar-right"},o.a.createElement("a",{className:"navbar-brand",href:"#"},"Register")))},j=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).state={navbarIndex:1},a.navBarSelection=function(e){a.setState({navbarIndex:e})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return o.a.createElement(f,{fluid:!0},o.a.createElement(C,{navBarSelection:this.navBarSelection}),1==this.state.navbarIndex?o.a.createElement(E,null,o.a.createElement(B,{size:"md-12"},o.a.createElement(g,null,o.a.createElement("h1",null,"Welcome to Book Buster!"),o.a.createElement("h2",null,"Book Buster is a learning tool that keeps students on track with reading goals and teachers can view each student's progress.")))):o.a.createElement("span",null),o.a.createElement(E,null,o.a.createElement(B,{size:"md-12"},o.a.createElement("form",null,o.a.createElement(S,{value:this.state.title,onChange:this.handleInputChange,name:"Name",placeholder:"Name"}),o.a.createElement(S,{value:this.state.title,onChange:this.handleInputChange,name:"Password",placeholder:"Password"}),o.a.createElement(y,{style:"text-align: center",onClick:this.handleFormSubmit},"Log In")))),o.a.createElement("span",null))}}]),t}(n.Component);var I=function(){return o.a.createElement(f,{fluid:!0},o.a.createElement(E,null,o.a.createElement(B,{size:"md-12"},o.a.createElement(g,null,o.a.createElement("h1",null,"404 Page Not Found"),o.a.createElement("h1",null,o.a.createElement("span",{role:"img","aria-label":"Face With Rolling Eyes Emoji"},"\ud83d\ude44"))))))},w=a(11);a(51);var O=function(){var e;return o.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-white"},o.a.createElement("a",(e={className:"navbar-brand"},Object(w.a)(e,"className","headerFont"),Object(w.a)(e,"href","/"),e),"BookBuster"),o.a.createElement("img",{src:"books.png",alt:"books graphic",width:"50px"}))};a(52);a(53);var N=function(e){return o.a.createElement("span",Object.assign({className:"delete-btn"},e,{role:"button",tabIndex:"0"}),"+")};a(54);function _(e){var t=e.children;return o.a.createElement("div",{className:"list-overflow-container"},o.a.createElement("ul",{className:"list-group"},t))}function x(e){var t=e.children;return o.a.createElement("li",{className:"list-group-item"},t)}function D(e){return o.a.createElement("div",{className:"form-group"},o.a.createElement("input",Object.assign({className:"form-control"},e)))}function P(e){return o.a.createElement("button",Object.assign({},e,{style:{float:"right",marginBottom:10},className:"btn btn-success"}),e.children)}var A=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).componentDidMount=function(){a.props.loadBooks()},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return o.a.createElement("span",null)}}]),t}(o.a.Component);var T=function(e){return o.a.createElement("nav",{className:"navbar navbar-dark bg"},o.a.createElement("span",null,o.a.createElement("a",{className:"navbar-brand",href:"#",onClick:function(){return e.navBarSelection(1)}},"Student Dashboard")),o.a.createElement("span",{className:"navbar-right"},o.a.createElement("a",{className:"navbar-brand",href:"#"},"Logout")))},R=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).componentDidMount=function(){a.props.resetTimer(),window.initialize(a.props.googleBookId,a.props.startAtPage),a.props.setPage(a.props.startAtPage);var e=document.getElementById("viewerCanvas");e.children[0].children[0].children[1].style.display="none",e.children[0].children[1].style.display="none"},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{id:"viewerCanvas",style:{width:"100%",height:"600px"}})}}]),t}(o.a.Component),z=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).state={books:[],bookIndex:0,navbarIndex:1,googleBookId:"",page:1,timer:30,timerRef:null},a.loadBooks=function(){k.getMyBooks(JSON.parse(sessionStorage.getItem("bookBusterStudent"))._id).then(function(e){a.setState({books:e.data})}).catch(function(e){return console.log(e)})},a.deleteBook=function(e){k.deleteBook(e).then(function(e){return a.loadBooks()}).catch(function(e){return console.log(e)})},a.handleInputChange=function(e){var t=e.target,n=t.name,o=t.value;a.setState(Object(w.a)({},n,o))},a.handleFormSubmit=function(e){e.preventDefault(),a.state.title&&k.searchBook(a.state.title).then(function(e){console.log(e),a.setState({bookSearch:e.data.items})}).catch(function(e){return console.log(e)})},a.saveBook=function(e,t){var n=t.toString();console.log(e,n),k.saveBook({title:e,author:n}).then(function(e){return a.loadBooks()}).catch(function(e){return console.log(e)})},a.navBarSelection=function(e){a.setState({navbarIndex:e})},a.goToPage=function(e){"Enter"==e.key&&(console.log(a.state.page),console.log(window.viewer.goToPage(a.state.page)),a.resetTimer(),a.setState({page:window.viewer.getPageNumber()},function(){k.updateBook(a.state.books[a.state.bookIndex]._id,{on_page:a.state.page})}))},a.nextPage=function(){window.viewer.nextPage(),a.resetTimer(),a.setState({page:window.viewer.getPageNumber()},function(){k.updateBook(a.state.books[a.state.bookIndex]._id,{on_page:a.state.page})})},a.prevPage=function(){window.viewer.previousPage(),a.resetTimer(),a.setState({page:window.viewer.getPageNumber()},function(){k.updateBook(a.state.books[a.state.bookIndex]._id,{on_page:a.state.page})})},a.setPage=function(e){a.setState({page:e})},a.resetTimer=function(){if(a.setState({timer:30}),!a.state.timerRef){var e=setInterval(a.decrementTimer,1e3);a.setState({timerRef:e})}},a.decrementTimer=function(){var e=a.state.timer,t=a.state.books[a.state.bookIndex];e>1?a.setState(function(e){return{timer:e.timer-1}}):(console.log(t.book_name),a.setState(function(e){return{timer:e.timer-1}}),k.updateBook(t._id,{pages_read:t.pages_read+1}),window.displayGoodJob(),clearInterval(a.state.timerRef),a.setState({timerRef:null}),a.loadBooks())},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.loadBooks()}},{key:"render",value:function(){var e=this;return o.a.createElement(f,{fluid:!0},o.a.createElement(T,{navBarSelection:this.navBarSelection,showViewer:this.showViewer}),1==this.state.navbarIndex?o.a.createElement(E,null,o.a.createElement(A,{loadBooks:this.loadBooks}),o.a.createElement(B,{size:"md-12"},o.a.createElement(g,null,o.a.createElement("h1",null,"Readings")),this.state.books.length?o.a.createElement(_,null,this.state.books.map(function(t,a){return o.a.createElement(x,{key:t._id},o.a.createElement("strong",null,t.book_name," by ",t.authors.toString()," pages read ",t.pages_read,", ",t.student_name,o.a.createElement("span",{style:{float:"right"},onClick:function(){return e.setState({bookIndex:a,googleBookId:t.googlebook_id,navbarIndex:4})}},"Read")))})):o.a.createElement("h3",null,"No Results to Display"))):o.a.createElement("span",null),4==this.state.navbarIndex?o.a.createElement(E,null,o.a.createElement(B,{size:"md-3"},o.a.createElement("div",{className:"btn-group"},o.a.createElement("span",{style:{width:"50px"},className:"btn btn-success",onClick:this.prevPage},"<"),o.a.createElement("span",{style:{borderLeft:"1px solid green",width:"50px"},className:"btn btn-success",onClick:this.nextPage},">"),o.a.createElement("span",{className:"btn"},"Go to page: ",o.a.createElement("input",{type:"text",style:{width:"50px"},onKeyPress:this.goToPage,name:"page",value:this.state.page,onChange:this.handleInputChange})),o.a.createElement("span",{className:"btn"},o.a.createElement("span",{className:"fa fa-clock-o"}),this.state.timer))),o.a.createElement(R,{setPage:this.setPage,startAtPage:this.state.books[this.state.bookIndex].on_page,googleBookId:this.state.googleBookId,resetTimer:this.resetTimer,timerRef:this.state.timerRef,decrementTimer:this.decrementTimer})):o.a.createElement("span",null))}}]),t}(n.Component),F=a(62),L=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).state={books:[],bookSearch:[],navbarIndex:1},a.testAPI=function(){k.createAssignment({googlebook_id:"s1gVAAAAYAAJ",authors:["eric","peggy","macy"],due_date:new Date}),k.getAssignments().then(function(e){return console.log(e)}).catch(function(e){return console.log(e)}),k.getBooks().then(function(e){return console.log("books:",e)}).catch(function(e){return console.log(e)})},a.loadBooks=function(){k.getBooks().then(function(e){return a.setState({books:e.data,title:"",author:""})}).catch(function(e){return console.log(e)})},a.handleInputChange=function(e){var t=e.target,n=t.name,o=t.value;a.setState(Object(w.a)({},n,o))},a.handleFormSubmit=function(e){e.preventDefault(),a.testAPI(),a.state.title&&k.searchBook(a.state.title).then(function(e){console.log(e),a.setState({bookSearch:e.data.items})}).catch(function(e){return console.log(e)})},a.navBarSelection=function(e){a.setState({navbarIndex:e})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.loadBooks()}},{key:"render",value:function(){var e=this;return o.a.createElement(f,{fluid:!0},o.a.createElement(T,{navBarSelection:this.navBarSelection}),1==this.state.navbarIndex?o.a.createElement(E,null,o.a.createElement(B,{size:"md-12"},o.a.createElement(g,null,o.a.createElement("h1",null,"Readings")),this.state.books.length?o.a.createElement(_,null,this.state.books.map(function(e){return o.a.createElement(x,{key:e._id},o.a.createElement(F.a,{to:"/books/"+e._id},o.a.createElement("strong",null,e.book_name," by ",e.author)))})):o.a.createElement("h3",null,"No Results to Display"))):o.a.createElement("span",null),2==this.state.navbarIndex?o.a.createElement(E,null,o.a.createElement(B,{size:"md-12"},o.a.createElement(g,null,o.a.createElement("h1",null,"Profile")),o.a.createElement("div",null,"Hi, ",o.a.createElement("span",null)),o.a.createElement("div",null,"Your lexile level is ",o.a.createElement("span",null)),o.a.createElement("div",null,"Your grade is ",o.a.createElement("span",null)))):o.a.createElement("span",null),1==this.state.navbarIndex?o.a.createElement(E,null,o.a.createElement(B,{size:"md-12"},o.a.createElement(g,null,o.a.createElement("h1",null,"Book Search")),o.a.createElement("form",null,o.a.createElement(D,{value:this.state.title,onChange:this.handleInputChange,name:"title",placeholder:"Title (required)"}),o.a.createElement(P,{onClick:this.handleFormSubmit},"Submit Book"))),o.a.createElement(B,{size:"md-12"},this.state.bookSearch.length?o.a.createElement(_,null,this.state.bookSearch.map(function(t,a){return o.a.createElement(x,{key:a},o.a.createElement("strong",null,t.volumeInfo.title," by ",t.volumeInfo.authors),o.a.createElement(N,{onClick:function(){return e.saveBook(t.volumeInfo.title,t.volumeInfo.authors)}}))})):o.a.createElement("h3",null,"No Results to Display"))):o.a.createElement("span",null))}}]),t}(n.Component),M=(a(57),a(9));var V=function(e){return o.a.createElement("div",{id:"searchContainer"},o.a.createElement("h3",null,"Books Assignment"),o.a.createElement("form",{id:"bookSearch"},o.a.createElement("label",{htmlFor:"bookInput",form:"bookSearch"},"Enter a book to search:"),o.a.createElement("input",{type:"text",name:"bookInput",id:"bookInput",form:"bookSearch",onChange:function(t){return e.handleChange(t)},placeholder:"Book Title",required:!0}),o.a.createElement("br",null),o.a.createElement("label",{htmlFor:"duedateInput",form:"bookSearch"},"Due Date:"),o.a.createElement("input",{type:"date",name:"duedateInput",id:"duedateInput",form:"bookSearch",onChange:function(t){return e.handleChange(t)},placeholder:"due_date",required:!0}),o.a.createElement("button",{type:"submit",onClick:function(t){return e.handleSearchClick(t)}},"Search")))},J=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleSaveClick=function(e){this.setState({saved:!0});var t={title:this.props.title,authors:this.props.authors,link:this.props.link,img:this.props.img,description:this.props.description,googlebook_id:this.props.googlebook_id,totalPages:this.props.totalPages,book_name:this.props.title,due_date:this.props.due_date};e.preventDefault(),k.addBookToDB(t).then(function(e){console.log(e)}).catch(function(e){console.log(e)})},a.state={saved:!1,deleted:!1},a.handleSaveClick=a.handleSaveClick.bind(Object(M.a)(Object(M.a)(a))),a.handleDeleteClick=a.handleDeleteClick.bind(Object(M.a)(Object(M.a)(a))),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"handleDeleteClick",value:function(e){var t=this;this.setState({deleted:!0}),e.preventDefault(),k.deleteBook(this.props.id).then(function(e){console.log(e),s.a.dispatch(t.props.location,null)}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return o.a.createElement("div",{className:"bookResult",id:this.props.id?this.props.id:null,style:{display:this.state.deleted?"none":"block"}},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"aboutBook"},o.a.createElement("h4",null,"Due Date: ",this.props.due_date),o.a.createElement("h4",null,this.props.title),o.a.createElement("h4",null,"Book Length : ",this.props.totalPages," pages"),o.a.createElement("p",null,"By: ",this.props.authors?this.props.authors.join(", "):"N/A")),o.a.createElement("div",{className:"btnDiv"},this.props.link?o.a.createElement("a",{href:this.props.link,target:"_blank",rel:"noopener noreferrer"},o.a.createElement("button",{type:"button",name:"view"},"View")):null,"/"===this.props.path?o.a.createElement("button",{type:"button",name:"save",onClick:this.handleSaveClick,disabled:this.state.saved},this.state.saved?"Saved":"Save"):o.a.createElement("button",{type:"button",name:"Delete",onClick:this.handleDeleteClick,disabled:this.state.deleted},"Delete"))),o.a.createElement("div",{className:"row"},this.props.img?o.a.createElement("img",{src:this.props.img.smallThumbnail?this.props.img.smallThumbnail:this.props.img.thumbnail?this.props.img.thumbnail:"",alt:"book cover"}):null,o.a.createElement("p",null,this.props.description?this.props.description:"N/A")))}}]),t}(o.a.Component);var W=function(e){return"/"===e.path?o.a.createElement("div",{id:"resultsContainer"},o.a.createElement("h3",null,"Pick a Book to Read"),e.bookData.map(function(t){var a=t.volumeInfo,n=t.searchInfo;return o.a.createElement(J,{title:a.title,authors:a.authors,description:a.description,totalPages:a.pageCount,googlebook_id:n.id,due_date:e.due_date,book_name:a.title,link:a.canonicalVolumeLink,img:a.imageLinks,path:e.path,key:t.id})})):"/saved"===e.path?e.savedBooks.length>0?o.a.createElement("div",{id:"resultsContainer"},o.a.createElement("h3",null,"Assignment List"),e.savedBooks.map(function(t){return o.a.createElement(J,{title:t.title,authors:t.authors,description:t.description,totalPages:t.totalPages,book_name:t.title,googlebook_id:t.googlebook_id,link:t.link,img:t.img,id:t._id,due_date:t.due_date.toString().split("T")[0],path:e.path,key:t._id})})):o.a.createElement("div",{id:"resultsContainer"},o.a.createElement("h3",null,"Assignment List"),o.a.createElement("p",null,"No Assignment Found.")):void 0},q=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={bookInput:"",duedateInput:"",bookData:[]},a.handleSearchClick=a.handleSearchClick.bind(Object(M.a)(Object(M.a)(a))),a.handleChange=a.handleChange.bind(Object(M.a)(Object(M.a)(a))),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"handleChange",value:function(e){e.preventDefault(),this.setState({bookInput:e.target.value}),this.setState({duedateInput:e.target.value})}},{key:"handleSearchClick",value:function(e){var t=this;e.preventDefault();var a=this.state.duedateInput;k.searchBooks(this.state.bookInput).then(function(e){t.setState({bookData:e.data}),console.log(a)})}},{key:"render",value:function(){return o.a.createElement("main",null,o.a.createElement(V,{handleChange:this.handleChange,handleSearchClick:this.handleSearchClick}),this.state.bookData.length>0?o.a.createElement(W,{bookData:this.state.bookData,path:this.props.match.path,due_date:this.state.duedateInput}):null)}}]),t}(o.a.Component),Y=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={savedBooks:[]},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){var e=this;k.getBooks().then(function(t){e.setState({savedBooks:t.data})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return console.log(this.state.savedBooks),o.a.createElement("main",null,o.a.createElement(W,{savedBooks:this.state.savedBooks,path:this.props.match.path}))}}]),t}(o.a.Component);var G=function(e){return"/"===e.path?o.a.createElement("div",{id:"resultsContainer"},o.a.createElement("h3",null,"Results Found"),e.bookData.map(function(t){var a=t.volumeInfo;return o.a.createElement(J,{title:a.title,authors:a.authors,description:a.description,link:a.canonicalVolumeLink,img:a.imageLinks,due_date:t.due_date,path:e.path,key:t.id})})):"/StudentProgress"===e.path?e.savedBooks.length>0?o.a.createElement("div",{id:"resultsContainer"},o.a.createElement("h3",null,"Saved Books no way"),e.savedBooks.map(function(t){return o.a.createElement(J,{title:t.title,authors:t.authors,description:t.description,link:t.link,img:t.img,id:t._id,due_date:t.due_date,path:e.path,key:t._id})})):o.a.createElement("div",{id:"resultsContainer"},o.a.createElement("h3",null,"Saved Books"),o.a.createElement("p",null,"No saved books."),o.a.createElement("div",{class:"container"},o.a.createElement("div",{class:"row"},o.a.createElement("div",{class:"col"},"Student Name "),o.a.createElement("div",{class:"col"},"Book Name"),o.a.createElement("div",{class:"col"},"Author"),o.a.createElement("div",{class:"col"},"Page Read"),o.a.createElement("div",{class:"col"},"Book Lenght"),o.a.createElement("div",{class:"col"},"% Complete"),o.a.createElement("div",{class:"col"},"Due Date")))):void 0};var H=function(){return o.a.createElement(s.a,null,o.a.createElement("div",null,o.a.createElement(O,null),o.a.createElement(i.a,null,o.a.createElement(c.a,{exact:!0,path:"/",component:j}),o.a.createElement(c.a,{exact:!0,path:"/books",component:L}),o.a.createElement(c.a,{exact:!0,path:"/student",component:z}),o.a.createElement(c.a,{exact:!0,path:"/teacher",component:q}),o.a.createElement(c.a,{path:"/saved",component:Y}),o.a.createElement(c.a,{path:"/StudentProgress",component:G}),o.a.createElement(c.a,{component:I}))))};a(59);r.a.render(o.a.createElement(H,null),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.415d936a.chunk.js.map